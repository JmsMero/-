<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
<!--    <script type="text/javascript">-->
<!--        (function (global) {-->

<!--            if(typeof (global) === "undefined") {-->
<!--                throw new Error("window is undefined");-->
<!--            }-->

<!--            var _hash = "!";-->
<!--            var noBackPlease = function () {-->
<!--                global.location.href += "#";-->

<!--                // making sure we have the fruit available for juice (^__^)-->
<!--                global.setTimeout(function () {-->
<!--                    global.location.href += "!";-->
<!--                }, 50);-->
<!--            };-->

<!--            global.onhashchange = function () {-->
<!--                if (global.location.hash !== _hash) {-->
<!--                    global.location.hash = _hash;-->
<!--                }-->
<!--            };-->

<!--            global.onload = function () {-->
<!--                noBackPlease();-->

<!--                // disables backspace on page except on input fields and textarea..-->
<!--                document.body.onkeydown = function (e) {-->
<!--                    var elm = e.target.nodeName.toLowerCase();-->
<!--                    if (e.which === 8 && (elm !== 'input' && elm  !== 'textarea')) {-->
<!--                        e.preventDefault();-->
<!--                    }-->
<!--                    // stopping event bubbling up the DOM tree..-->
<!--                    e.stopPropagation();-->
<!--                };-->
<!--            }-->

<!--        })(window);-->
<!--    </script>-->
<!--    <script>-->
<!--        addEventBack();-->

<!--        function addEventBack(){-->
<!--            pushHistory();-->
<!--            window.addEventListener("popstate",addBackKey, false);-->
<!--            function pushHistory() {-->
<!--                var state = {-->
<!--                    title: "title",-->
<!--                    url: "#"-->
<!--                };-->
<!--                window.history.pushState(state, "title", "#jjjj");-->
<!--            }-->
<!--        }-->

<!--        function addBackKey(){-->
<!--            var res = confirm("是否确认离开当前页面？");-->
<!--            if (res == true) {-->
<!--                window.location.href="/aaa.html";-->
<!--            }else{-->
<!--                addEventBack();-->
<!--                history.pushState(state, null, location.href);-->
<!--            }-->
<!--        }-->
<!--    </script>-->
    <style>
        #Popup{
            display: none;
        }
    </style>
    <script src="./index.js"></script>
    <script>
        // 監聽Android物理返回鍵，自定義處理方法
        window.AndroidBack.listen(() => {
            alert('back');
        });
        // 新增Android物理返回鍵監聽事件，使用場景，比如：頁面內彈出浮層，點擊Android物理返回鍵，不是回退頁面，而是關閉浮層
        window.AndroidBack.push('close_modal', () => {
        // 關閉彈窗
            alert('close_modal');
        });
    </script>
</head>
<body>
<p id="logView">test1</p>
<div id="Popup">
    <p>真的要离开吗？</p>
    <div>
        <button class="determine">确定</button>
        <button class="cancel">取消</button>
    </div>
</div>
<div id="popup-back"></div>
</body>
</html>
